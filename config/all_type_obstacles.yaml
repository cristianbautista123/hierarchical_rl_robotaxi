###############################################
#  OBSTACLE AND TRAFFIC ELEMENT DEFINITIONS  #
#  Hierarchical RL Robotaxi – Scenario Model  #
###############################################

# ============================================================
# 1) ROAD OBSTACLES – inside the drivable lanes
# ============================================================
road_obstacles:

  # --- Traffic Barrels / Cones ---
  - type: barrel
    s: 80.0
    lane: 0             # attached to lane center automatically
    radius: 0.6
    height: 1.0

  - type: cone
    s: 150.0
    lane: 1
    radius: 0.3
    height: 0.7

  # --- Stopped Vehicle ---
  - type: stopped_vehicle
    s: 200.0
    lane: 0
    length: 4.5
    width: 1.9
    radius: 1.3        # circular approximation


# ============================================================
# 2) TRAFFIC SIGNS & LIGHTS – roadside elements (off-road)
# ============================================================
roadside_objects:

  # --- Stop Sign ---
  - type: stop_sign
    s: 120.0
    d: 6.0             # manually placed outside the lane
    radius: 0.5
    requires_stop: true
    stop_duration: 2.0  # seconds the agent must remain stopped

  # --- Traffic Light ---
  - type: traffic_light
    s: 250.0
    d: 3.5
    cycle_time: 30.0   # seconds
    radius: 0.5


# ============================================================
# 3) CONSTRUCTION ZONE – clusters or arrays of cones
# ============================================================
construction_zone:

  - type: cone_cluster
    center_s: 300.0
    center_d: 0.0
    count: 6
    spread_s: 3.0       # spacing along s
    spread_d: 1.0       # lateral variation
    radius: 0.3


# ============================================================
# 4) GLOBAL SCENARIO PARAMETERS
# ============================================================
scenario:
  randomize_positions: false      # random shift in s for obstacles
  randomize_lanes: false          # random lane assignment for lane-bound objects
  randomize_cluster_density: false

  # Domain randomization ranges (optional)
  randomization_config:
    barrel_density_range: [1, 3]         # random number of barrels
    cone_spread_range: [0.5, 2.0]        # random lateral cone scatter
    traffic_light_states: ["red", "green", "yellow"]
    stop_sign_probability: 0.7


# ============================================================
# 5) METADATA (optional but useful)
# ============================================================
metadata:
  scenario_name: "base_demo_scenario"
  description: "Test map with barrels, cones, stop sign and traffic light."
  created_by: "Cristian Bautista"
  version: 1.0
